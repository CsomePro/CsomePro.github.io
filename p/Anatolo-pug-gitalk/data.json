{"title":"微调Hexo主题Anatolo接入gitalk","date":"2021-12-14T00:58:54.000Z","toc":true,"source":"_posts/Anatolo-pug-gitalk.md","raw":"---\ntitle: 微调Hexo主题Anatolo接入gitalk\ntoc: true\ncomments: true\ndate: 2021-12-14 08:58:54\ntags: \n  - 踩坑\n  - gitalk\n---\n\n# pug语法\n\n[入门指南 – Pug 模板引擎中文文档 | Pug 中文网 (pugjs.cn)](https://www.pugjs.cn/api/getting-started.html)\n\nhtml基础都不牢的我也是能看懂pug语法的\n\n# Anatolo源码分析\n\n>D:\\CSOMEBLOG\\THEMES\\ANATOLO\\LAYOUT 目录下文件内容\n>│  archive.pug\n>│  category.pug\n>│  index.pug\n>│  mixins.pug\n>│  page.pug\n>│  post.pug\n>│  tag.pug\n>│  tags.pug\n>│\n>└─partial\n>  comments.pug\n>  footer.pug\n>  head.pug\n>  layout.pug\n>  nav.pug\n>  search.pug\n>  sidebar.pug\n>  social_links.pug\n>  toc.pug\n\n不难看出是有comments.pug的，不过阅读之后发现并没有gitalk的设置，打开post.pug发现在最底下有一个comment.pug的引用\n\n![image-20211214090854393](Anatolo-pug-gitalk/image-20211214090854393.png)\n\n根据gitalk官方文档需要将下列代码加入主题中\n\n```html\n  <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css\">\n  <script src=\"https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js\"></script>\n\n  <!-- or -->\n\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\">\n  <script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"></script>\n上面两个选一个加入head块中\n\n<div id=\"gitalk-container\"></div> 这一行加入到对应需要评论模组的地方\n\n<script>\nvar gitalk = new Gitalk({\n  clientID: '', // GitHub Application Client ID\n  clientSecret: '', // GitHub Application Client Secret\n  repo: ''      // 存放评论的仓库\n  owner: '',          // 仓库的创建者，\n  admin: [''],        // 如果仓库有多个人可以操作，那么在这里以数组形式写出\n  id: location.pathname,      // 用于标记评论是哪个页面的，确保唯一，并且长度小于50\n})\n\ngitalk.render('gitalk-container');    // 渲染Gitalk评论组件\n</script>\n```\n\n首先是head部分，不难发现在head.pug是初始化head内容的pug文件\n\n只需将head中加入下列代码即可\n\n```python\nif theme.gitalk\n    if theme.gitalk.enable\n        link(rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css\")\n        script(src=\"https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js\")\n```\n\n然后就是评论模块的位置\n\n在commemts.pug中加入一下代码\n\n```python\nif theme.gitalk\n    if theme.gitalk.enable\n        div#gitalk-container(style=\"padding-left: 50px;padding-right: 50px;padding-bottom: 70px\")\n        script. \n            var gitalk = new Gitalk({\n            clientID: \"#{theme.gitalk.clientID}\",\n            clientSecret: \"#{theme.gitalk.clientSecret}\",\n            repo: \"#{theme.gitalk.repo}\",\n            owner: \"#{theme.gitalk.owner}\",\n            admin:  [\"#{theme.gitalk.admin}\"],\n            id: md5(decodeURI(location.pathname)),      // Ensure uniqueness and length less than 50\n            language: 'zh-CN' \n            })\n            gitalk.render('gitalk-container')\n```\n\n在_config.pug加入如下属性\n\n```yml\ngitalk:\n  enable: false\n  clientID: \"\"\n  clientSecret: \"\"\n  repo: \"\"\n  owner: \"\"\n  admin: \"\"\n```\n\n根据gitalk设置好github application就可以啦\n\n[Gitalk评论插件使用教程 - SegmentFault 思否](https://segmentfault.com/a/1190000018072952)\n","slug":"Anatolo-pug-gitalk","published":true,"updated":"2025-10-28T08:00:40.753Z","_id":"cuidyoHwEDnsDf60ia1cCSiPR","comments":true,"layout":"post","photos":[],"html":"<h1 id=\"pug语法\"><a href=\"#pug语法\" class=\"headerlink\" title=\"pug语法\"></a>pug语法</h1><p><a href=\"https://www.pugjs.cn/api/getting-started.html\">入门指南 – Pug 模板引擎中文文档 | Pug 中文网 (pugjs.cn)</a></p>\n<p>html基础都不牢的我也是能看懂pug语法的</p>\n<h1 id=\"Anatolo源码分析\"><a href=\"#Anatolo源码分析\" class=\"headerlink\" title=\"Anatolo源码分析\"></a>Anatolo源码分析</h1><blockquote>\n<p>D:\\CSOMEBLOG\\THEMES\\ANATOLO\\LAYOUT 目录下文件内容<br>│  archive.pug<br>│  category.pug<br>│  index.pug<br>│  mixins.pug<br>│  page.pug<br>│  post.pug<br>│  tag.pug<br>│  tags.pug<br>│<br>└─partial<br> comments.pug<br> footer.pug<br> head.pug<br> layout.pug<br> nav.pug<br> search.pug<br> sidebar.pug<br> social_links.pug<br> toc.pug</p>\n</blockquote>\n<p>不难看出是有comments.pug的，不过阅读之后发现并没有gitalk的设置，打开post.pug发现在最底下有一个comment.pug的引用</p>\n<p><img src=\"/p/Anatolo-pug-gitalk/image-20211214090854393.png\" alt=\"image-20211214090854393\"></p>\n<p>根据gitalk官方文档需要将下列代码加入主题中</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"><!-- or --></span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://unpkg.com/gitalk/dist/gitalk.css&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://unpkg.com/gitalk/dist/gitalk.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">上面两个选一个加入head块中</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;gitalk-container&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span> 这一行加入到对应需要评论模组的地方</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">var</span> gitalk = <span class=\"keyword\">new</span> <span class=\"title class_\">Gitalk</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">clientID</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// GitHub Application Client ID</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">clientSecret</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// GitHub Application Client Secret</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">repo</span>: <span class=\"string\">&#x27;&#x27;</span>      <span class=\"comment\">// 存放评论的仓库</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">owner</span>: <span class=\"string\">&#x27;&#x27;</span>,          <span class=\"comment\">// 仓库的创建者，</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">admin</span>: [<span class=\"string\">&#x27;&#x27;</span>],        <span class=\"comment\">// 如果仓库有多个人可以操作，那么在这里以数组形式写出</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">id</span>: location.<span class=\"property\">pathname</span>,      <span class=\"comment\">// 用于标记评论是哪个页面的，确保唯一，并且长度小于50</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">gitalk.<span class=\"title function_\">render</span>(<span class=\"string\">&#x27;gitalk-container&#x27;</span>);    <span class=\"comment\">// 渲染Gitalk评论组件</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>首先是head部分，不难发现在head.pug是初始化head内容的pug文件</p>\n<p>只需将head中加入下列代码即可</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> theme.gitalk</span><br><span class=\"line\">    <span class=\"keyword\">if</span> theme.gitalk.enable</span><br><span class=\"line\">        link(rel=<span class=\"string\">&quot;stylesheet&quot;</span> href=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css&quot;</span>)</span><br><span class=\"line\">        script(src=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js&quot;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>然后就是评论模块的位置</p>\n<p>在commemts.pug中加入一下代码</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> theme.gitalk</span><br><span class=\"line\">    <span class=\"keyword\">if</span> theme.gitalk.enable</span><br><span class=\"line\">        div<span class=\"comment\">#gitalk-container(style=&quot;padding-left: 50px;padding-right: 50px;padding-bottom: 70px&quot;)</span></span><br><span class=\"line\">        script. </span><br><span class=\"line\">            var gitalk = new Gitalk(&#123;</span><br><span class=\"line\">            clientID: <span class=\"string\">&quot;#&#123;theme.gitalk.clientID&#125;&quot;</span>,</span><br><span class=\"line\">            clientSecret: <span class=\"string\">&quot;#&#123;theme.gitalk.clientSecret&#125;&quot;</span>,</span><br><span class=\"line\">            repo: <span class=\"string\">&quot;#&#123;theme.gitalk.repo&#125;&quot;</span>,</span><br><span class=\"line\">            owner: <span class=\"string\">&quot;#&#123;theme.gitalk.owner&#125;&quot;</span>,</span><br><span class=\"line\">            admin:  [<span class=\"string\">&quot;#&#123;theme.gitalk.admin&#125;&quot;</span>],</span><br><span class=\"line\">            <span class=\"built_in\">id</span>: md5(decodeURI(location.pathname)),      // Ensure uniqueness <span class=\"keyword\">and</span> length less than <span class=\"number\">50</span></span><br><span class=\"line\">            language: <span class=\"string\">&#x27;zh-CN&#x27;</span> </span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            gitalk.render(<span class=\"string\">&#x27;gitalk-container&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>在_config.pug加入如下属性</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">gitalk:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">clientID:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">clientSecret:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">repo:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">owner:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">admin:</span> <span class=\"string\">&quot;&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>根据gitalk设置好github application就可以啦</p>\n<p><a href=\"https://segmentfault.com/a/1190000018072952\">Gitalk评论插件使用教程 - SegmentFault 思否</a></p>\n","excerpt":"","more":"<h1 id=\"pug语法\"><a href=\"#pug语法\" class=\"headerlink\" title=\"pug语法\"></a>pug语法</h1><p><a href=\"https://www.pugjs.cn/api/getting-started.html\">入门指南 – Pug 模板引擎中文文档 | Pug 中文网 (pugjs.cn)</a></p>\n<p>html基础都不牢的我也是能看懂pug语法的</p>\n<h1 id=\"Anatolo源码分析\"><a href=\"#Anatolo源码分析\" class=\"headerlink\" title=\"Anatolo源码分析\"></a>Anatolo源码分析</h1><blockquote>\n<p>D:\\CSOMEBLOG\\THEMES\\ANATOLO\\LAYOUT 目录下文件内容<br>│  archive.pug<br>│  category.pug<br>│  index.pug<br>│  mixins.pug<br>│  page.pug<br>│  post.pug<br>│  tag.pug<br>│  tags.pug<br>│<br>└─partial<br> comments.pug<br> footer.pug<br> head.pug<br> layout.pug<br> nav.pug<br> search.pug<br> sidebar.pug<br> social_links.pug<br> toc.pug</p>\n</blockquote>\n<p>不难看出是有comments.pug的，不过阅读之后发现并没有gitalk的设置，打开post.pug发现在最底下有一个comment.pug的引用</p>\n<p><img src=\"/p/Anatolo-pug-gitalk/image-20211214090854393.png\" alt=\"image-20211214090854393\"></p>\n<p>根据gitalk官方文档需要将下列代码加入主题中</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"><!-- or --></span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://unpkg.com/gitalk/dist/gitalk.css&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://unpkg.com/gitalk/dist/gitalk.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">上面两个选一个加入head块中</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;gitalk-container&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span> 这一行加入到对应需要评论模组的地方</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">var</span> gitalk = <span class=\"keyword\">new</span> <span class=\"title class_\">Gitalk</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">clientID</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// GitHub Application Client ID</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">clientSecret</span>: <span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">// GitHub Application Client Secret</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">repo</span>: <span class=\"string\">&#x27;&#x27;</span>      <span class=\"comment\">// 存放评论的仓库</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">owner</span>: <span class=\"string\">&#x27;&#x27;</span>,          <span class=\"comment\">// 仓库的创建者，</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">admin</span>: [<span class=\"string\">&#x27;&#x27;</span>],        <span class=\"comment\">// 如果仓库有多个人可以操作，那么在这里以数组形式写出</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">id</span>: location.<span class=\"property\">pathname</span>,      <span class=\"comment\">// 用于标记评论是哪个页面的，确保唯一，并且长度小于50</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">gitalk.<span class=\"title function_\">render</span>(<span class=\"string\">&#x27;gitalk-container&#x27;</span>);    <span class=\"comment\">// 渲染Gitalk评论组件</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>首先是head部分，不难发现在head.pug是初始化head内容的pug文件</p>\n<p>只需将head中加入下列代码即可</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> theme.gitalk</span><br><span class=\"line\">    <span class=\"keyword\">if</span> theme.gitalk.enable</span><br><span class=\"line\">        link(rel=<span class=\"string\">&quot;stylesheet&quot;</span> href=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css&quot;</span>)</span><br><span class=\"line\">        script(src=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js&quot;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>然后就是评论模块的位置</p>\n<p>在commemts.pug中加入一下代码</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> theme.gitalk</span><br><span class=\"line\">    <span class=\"keyword\">if</span> theme.gitalk.enable</span><br><span class=\"line\">        div<span class=\"comment\">#gitalk-container(style=&quot;padding-left: 50px;padding-right: 50px;padding-bottom: 70px&quot;)</span></span><br><span class=\"line\">        script. </span><br><span class=\"line\">            var gitalk = new Gitalk(&#123;</span><br><span class=\"line\">            clientID: <span class=\"string\">&quot;#&#123;theme.gitalk.clientID&#125;&quot;</span>,</span><br><span class=\"line\">            clientSecret: <span class=\"string\">&quot;#&#123;theme.gitalk.clientSecret&#125;&quot;</span>,</span><br><span class=\"line\">            repo: <span class=\"string\">&quot;#&#123;theme.gitalk.repo&#125;&quot;</span>,</span><br><span class=\"line\">            owner: <span class=\"string\">&quot;#&#123;theme.gitalk.owner&#125;&quot;</span>,</span><br><span class=\"line\">            admin:  [<span class=\"string\">&quot;#&#123;theme.gitalk.admin&#125;&quot;</span>],</span><br><span class=\"line\">            <span class=\"built_in\">id</span>: md5(decodeURI(location.pathname)),      // Ensure uniqueness <span class=\"keyword\">and</span> length less than <span class=\"number\">50</span></span><br><span class=\"line\">            language: <span class=\"string\">&#x27;zh-CN&#x27;</span> </span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            gitalk.render(<span class=\"string\">&#x27;gitalk-container&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>在_config.pug加入如下属性</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">gitalk:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">clientID:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">clientSecret:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">repo:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">owner:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">admin:</span> <span class=\"string\">&quot;&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>根据gitalk设置好github application就可以啦</p>\n<p><a href=\"https://segmentfault.com/a/1190000018072952\">Gitalk评论插件使用教程 - SegmentFault 思否</a></p>\n","path":"/p/Anatolo-pug-gitalk/","permalink":"https://blog.csome.cc/p/Anatolo-pug-gitalk/","tags":[{"name":"踩坑","_id":"cuidifbtieTVvbpjVmS8qAf6c","slug":"踩坑","path":"tags/踩坑/","permalink":"https://blog.csome.cc/tags/%E8%B8%A9%E5%9D%91/","length":1},{"name":"gitalk","_id":"cuidauW8N2vx2h8sC9KiaxNbL","slug":"gitalk","path":"tags/gitalk/","permalink":"https://blog.csome.cc/tags/gitalk/","length":1}],"categories":[],"prev":{"title":"二维计算几何模板","date":"2021-12-14T05:59:50.000Z","slug":"cg-template","published":true,"updated":"2025-10-28T08:00:40.764Z","_id":"cuidnrc10fP23LwfrlhYiHgq-","layout":"post","photos":[],"excerpt":"","path":"/p/cg-template/","permalink":"https://blog.csome.cc/p/cg-template/","__post":true},"next":{"title":"2021xp0int杯新生赛 Pwn wp","date":"2021-12-13T15:52:05.000Z","slug":"xp0intCTF-wp","published":true,"updated":"2025-10-28T08:00:40.791Z","_id":"cuidqs-4H1se3viecCo3JDGCf","layout":"post","photos":[],"excerpt":"","path":"/p/xp0intCTF-wp/","permalink":"https://blog.csome.cc/p/xp0intCTF-wp/","__post":true},"__post":true}